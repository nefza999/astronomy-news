<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astronomy News - Cosmic Discoveries</title>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4a6fa5">
    <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Astronomy News">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
</head>
<body class="AN-body">
    <!-- Header Section -->
    <header class="AN-header">
        <div class="AN-container">
            <div class="AN-header-content">
                <!-- Column 1: Logo -->
                <div class="AN-logo-section">
                    <a href="/" class="AN-logo-link">
                        <div class="AN-logo fallback-logo">
                            <img src="assets/icons/icon-96x96.png" alt="Astronomy News Logo" onerror="this.style.display='none'; this.parentElement.classList.add('fallback-logo')">
                            <i class="fas fa-star" style="display: none;"></i>
                        </div>
                    </a>
                </div>
                <!-- Column 2: Title -->
                <div class="AN-title-section">
                    <h1 class="AN-title" data-i18n="An.index.title">Astronomy News</h1>
                </div>
                <!-- Column 3: Options Card -->
                <div class="AN-options-card">
                    <div class="AN-controls-compact">
                        <div class="AN-control-group">
                            <label for="AN-language-select" class="AN-control-label" data-i18n="An.index.language">Language:</label>
                            <select id="AN-language-select" class="AN-select">
                                <option value="en">English</option>
                                <option value="fr">Français</option>
                                <option value="ar">العربية</option>
                            </select>
                        </div>
                        <div class="AN-control-group">
                            <div class="AN-theme-toggle">
                                <input type="checkbox" id="AN-theme-switch" class="AN-theme-checkbox">
                                <label for="AN-theme-switch" class="AN-theme-slider">
                                    <span class="AN-theme-icon AN-theme-sun"><i class="fas fa-sun"></i></span>
                                    <span class="AN-theme-icon AN-theme-moon"><i class="fas fa-moon"></i></span>
                                </label>
                            </div>
                        </div>
                        <div class="AN-control-group">
                            <button class="AN-notification-btn" id="AN-notification-toggle">
                                <i class="fas fa-bell"></i>
                                <span class="AN-notification-badge" id="AN-notification-badge">0</span>
                            </button>
                        </div>
                        <!-- Auth Buttons -->
                        <div class="AN-control-group" id="AN-auth-buttons">
                            <button class="AN-btn AN-btn-secondary AN-btn-sm" id="AN-login-btn" data-i18n="An.auth.login">Login</button>
                            <button class="AN-btn AN-btn-primary AN-btn-sm" id="AN-register-btn" data-i18n="An.auth.register">Register</button>
                        </div>
                        <!-- User Menu (Hidden by default) -->
                        <div class="AN-user-menu" id="AN-user-menu" style="display: none;">
                            <div class="AN-user-info">
                                <span class="AN-user-name" id="AN-user-name"></span>
                                <i class="fas fa-user-circle AN-user-avatar"></i>
                            </div>
                            <div class="AN-user-dropdown">
		<a href="/personal-profile.html" class="AN-user-dropdown-item" data-i18n="An.auth.profile">Profile</a>
		<button class="AN-user-dropdown-item" id="AN-logout-btn" data-i18n="An.auth.logout">Logout</button>
	</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Navigation -->
            <nav class="AN-nav">
                <ul class="AN-nav-list">
                    <li class="AN-nav-item"><a href="/" class="AN-nav-link" data-i18n="An.index.home">Home</a></li>
                    <li class="AN-nav-item"><a href="/AN_news.html" class="AN-nav-link" data-i18n="An.index.news">News</a></li>
                    <li class="AN-nav-item"><a href="/AN_missions.html" class="AN-nav-link" data-i18n="An.index.missions">Missions</a></li>
                    <li class="AN-nav-item"><a href="/AN_gallery.html" class="AN-nav-link" data-i18n="An.index.gallery">Gallery</a></li>
                    <li class="AN-nav-item"><a href="/AN_explore.html" class="AN-nav-link" data-i18n="An.index.explore">Explore Astronomy</a></li>
                    <li class="AN-nav-item"><a href="/AN_about.html" class="AN-nav-link" data-i18n="An.index.about">About</a></li>
                </ul>
            </nav>
        </div>
    </header>
    <!-- Main Content -->
    <main class="AN-main">
        <div class="AN-container">
            <!-- Hero Section -->
            <section class="AN-hero">
                <div class="AN-hero-content">
                    <h2 class="AN-hero-title" data-i18n="An.index.heroTitle">Exploring the Universe</h2>
                    <p class="AN-hero-text" data-i18n="An.index.heroText">Latest discoveries, missions, and cosmic events from across the universe</p>
                    <a href="/AN_explore.html" class="AN-btn AN-btn-primary" data-i18n="An.index.exploreBtn">Explore News</a>
                </div>
                <div class="AN-hero-image">
                    <div class="AN-planet AN-planet-1"></div>
                    <div class="AN-planet AN-planet-2"></div>
                    <div class="AN-planet AN-planet-3"></div>
                    <div class="AN-stars"></div>
                </div>
            </section>
            <!-- Featured News Section -->
            <section class="AN-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h2 class="AN-section-title" data-i18n="An.index.featuredNews">Featured News</h2>
                    <div class="AN-news-categories">
                        <button class="AN-category-btn AN-category-active" data-category="all" data-i18n="An.index.allNews">All News</button>
                        <button class="AN-category-btn" data-category="global" data-i18n="An.index.globalNews">Global</button>
                        <button class="AN-category-btn" data-category="local" data-i18n="An.index.localNews">Tunisia</button>
                    </div>
                </div>
                <div class="AN-news-grid" id="AN-news-container">
                    <!-- News cards will be dynamically generated here -->
                </div>
            </section>
            <!-- Upcoming Events Section -->
            <section class="AN-section">
                <h2 class="AN-section-title" data-i18n="An.index.upcomingEvents">Upcoming Events</h2>
                <div class="AN-events-list" id="AN-events-container">
                    <!-- Event items will be dynamically generated here -->
                </div>
            </section>
        </div>
    </main>
    <!-- Footer -->
    <footer class="AN-footer">
        <div class="AN-container">
            <div class="AN-footer-content">
                <!-- Column 1: Information -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.aboutUs">About Us</h3>
                    <p class="AN-footer-text" data-i18n="An.index.aboutText">Astronomy News brings you the latest news and discoveries from the world of astronomy and space exploration.</p>
                </div>
                <!-- Column 2: Developer -->
                <div class="AN-footer-section">
<button onclick="AN_app.resetForDebug()" style="position: fixed; bottom: 10px; right: 10px; z-index: 9999; padding: 5px 10px; background: red; color: white; border: none; border-radius: 5px;">
    Debug Reset
</button>
                    <h3 class="AN-footer-title" data-i18n="An.index.developer">Developer</h3>
                    <p class="AN-footer-text">Mejri Ziad</p>
                </div>
                <!-- Column 3: Quick Links -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.quickLinks">Quick Links</h3>
                    <ul class="AN-footer-links">
                        <li><a href="/" data-i18n="An.index.home">Home</a></li>
                        <li><a href="/AN_news.html" data-i18n="An.index.news">News</a></li>
                        <li><a href="/AN_missions.html" data-i18n="An.index.missions">Missions</a></li>
                        <li><a href="/AN_gallery.html" data-i18n="An.index.gallery">Gallery</a></li>
                        <li><a href="/AN_explore.html" data-i18n="An.index.explore">Explore Astronomy</a></li>
                        <li><a href="/AN_about.html" data-i18n="An.index.about">About</a></li>
                    </ul>
                </div>
                <!-- Column 4: Legal -->
                <div class="AN-footer-section">
                    <h3 class="AN-footer-title" data-i18n="An.index.legal">Legal</h3>
                    <ul class="AN-footer-links">
                        <li><a href="/AN_privacy.html" data-i18n="An.index.privacyPolicy">Privacy Policy</a></li>
                        <li><a href="/AN_terms.html" data-i18n="An.index.termsOfUse">Terms of Use</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Registration Modal -->
    <div class="AN-registration-modal" id="AN-registration-modal">
        <div class="AN-registration-modal-content">
            <div class="AN-registration-modal-header">
                <h3 data-i18n="An.auth.register">Register</h3>
                <button class="AN-registration-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="AN-registration-modal-body">
                <div class="AN-registration-tabs">
                    <button class="AN-registration-tab active" data-form="login" data-i18n="An.auth.login">Login</button>
                    <button class="AN-registration-tab" data-form="register" data-i18n="An.auth.register">Register</button>
                </div>
                
                <!-- Login Form -->
                <form id="AN-login-form" class="AN-registration-form active">
                    <div class="AN-form-group">
						<label for="AN-login-email" class="AN-form-label" data-i18n="An.auth.email">Email or Username</label>
						<input type="text" id="AN-login-email" class="AN-form-input" required 
       autocomplete="username" 
       data-i18n-placeholder="An.auth.emailPlaceholder">
					</div>
                    <div class="AN-form-group">
                        <label for="AN-login-password" class="AN-form-label" data-i18n="An.auth.password">Password</label>
                        <input type="password" id="AN-login-password" class="AN-form-input" required 
       autocomplete="current-password"
       data-i18n-placeholder="An.auth.passwordPlaceholder">
                    </div>
                    <div class="AN-form-group AN-form-checkbox">
                        <input type="checkbox" id="AN-remember-me">
                        <label for="AN-remember-me" data-i18n="An.auth.rememberMe">Remember me</label>
                    </div>
                    <button type="submit" class="AN-btn AN-btn-primary AN-btn-block" data-i18n="An.auth.signIn">Sign In</button>
                    
                    <div class="AN-form-footer">
                        <a href="#" data-i18n="An.auth.forgotPassword">Forgot password?</a>
                        <span data-i18n="An.auth.noAccount">Don't have an account? <a href="#" id="AN-switch-to-register">Sign up</a></span>
                    </div>
                </form>
                
                <!-- Register Form -->
                <form id="AN-register-form" class="AN-registration-form">
                    <div class="AN-form-group">
                        <label for="AN-register-name" class="AN-form-label" data-i18n="An.auth.name">Full Name</label>
                        <input type="text" id="AN-register-name" class="AN-form-input" required 
       autocomplete="name"
       data-i18n-placeholder="An.auth.namePlaceholder">
                    </div>
                    <div class="AN-form-group">
                        <label for="AN-register-username" class="AN-form-label" data-i18n="An.auth.username">Username</label>
                        <input type="text" id="AN-register-username" class="AN-form-input" required 
       autocomplete="username"
       data-i18n-placeholder="An.auth.usernamePlaceholder">
                    </div>
                    <div class="AN-form-group">
                        <label for="AN-register-email" class="AN-form-label" data-i18n="An.auth.email">Email</label>
                        <input type="email" id="AN-register-email" class="AN-form-input" required 
       autocomplete="email"
       data-i18n-placeholder="An.auth.emailPlaceholder">
                    </div>
                    <div class="AN-form-group">
                        <label for="AN-register-password" class="AN-form-label" data-i18n="An.auth.password">Password</label>
                        <input type="password" id="AN-register-password" class="AN-form-input" required 
       autocomplete="new-password"
       data-i18n-placeholder="An.auth.passwordPlaceholder">
                    </div>
                    <div class="AN-form-group">
                        <label for="AN-register-confirm-password" class="AN-form-label" data-i18n="An.auth.confirmPassword">Confirm Password</label>
                        <input type="password" id="AN-register-confirm-password" class="AN-form-input" required 
       autocomplete="new-password"
       data-i18n-placeholder="An.auth.confirmPasswordPlaceholder">
                    </div>
                    <div class="AN-form-group AN-form-checkbox">
                        <input type="checkbox" id="AN-agree-terms" required>
                        <label for="AN-agree-terms" data-i18n="An.auth.agreeTerms">I agree to the Terms and Privacy Policy</label>
                    </div>
                    <button type="submit" class="AN-btn AN-btn-primary AN-btn-block" data-i18n="An.auth.signUp">Sign Up</button>
                    <div class="AN-form-footer">
                        <span data-i18n="An.auth.haveAccount">Already have an account? <a href="#" id="AN-switch-to-login">Sign in</a></span>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <!-- Reaction Modal (for comments) -->
    <div class="AN-reaction-modal" id="AN-reaction-modal">
        <div class="AN-reaction-modal-content">
            <div class="AN-reaction-modal-header">
                <h3 id="AN-reaction-modal-title"></h3>
                <button class="AN-reaction-modal-close" id="AN-reaction-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="AN-reaction-modal-body">
                <div class="AN-comment-form">
                    <textarea id="AN-comment-input" placeholder="Add your comment..." rows="4" data-i18n-placeholder="An.reaction.addComment"></textarea>
                    <button id="AN-submit-comment" class="AN-btn AN-btn-primary" data-i18n="An.reaction.postComment">Post Comment</button>
                </div>
                <div class="AN-comments-list" id="AN-comments-list">
                    <!-- Comments will be loaded here -->
                </div>
            </div>
        </div>
    </div>
    
    <!-- Notification Panel -->
    <div class="AN-notification-panel" id="AN-notification-panel">
        <div class="AN-notification-header">
            <h3 data-i18n="An.index.notifications">Notifications</h3>
            <button class="AN-close-btn" id="AN-close-notifications">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="AN-notification-list" id="AN-notification-list">
            <!-- Notifications will be dynamically generated here -->
        </div>
    </div>
    
    <!-- Event Modal -->
    <div class="AN-event-modal" id="AN-event-modal">
        <div class="AN-event-modal-content">
            <div class="AN-event-modal-header">
                <h2 id="AN-event-modal-title"></h2>
                <button class="AN-event-modal-close" id="AN-event-modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="AN-event-modal-body">
                <div class="AN-event-modal-image" id="AN-event-modal-image"></div>
                <div class="AN-event-modal-info">
                    <div class="AN-event-calendar" id="AN-event-calendar">
                        <!-- Calendar will be generated here -->
                    </div>
                    <div class="AN-event-details">
                        <h3 id="AN-event-modal-subtitle"></h3>
                        <p id="AN-event-modal-body"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="pwa-main.js"></script>
    <script src="data.js"></script>
    <script src="data_processing.js"></script>
    <script src="translation.js"></script>
    <script src="router.js"></script>
    <script src="share-manager.js"></script>
    <script src="app.js"></script>
    <script>
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            if (typeof AN_initializeApp === 'function') {
                AN_initializeApp();
            }
            
            // Setup tab switching in registration modal
            document.getElementById('AN-switch-to-register')?.addEventListener('click', (e) => {
                e.preventDefault();
                const modal = document.getElementById('AN-registration-modal');
                if (modal) {
                    const tabs = modal.querySelectorAll('.AN-registration-tab');
                    tabs.forEach(tab => {
                        if (tab.dataset.form === 'register') {
                            tab.click();
                        }
                    });
                }
            });
            
            document.getElementById('AN-switch-to-login')?.addEventListener('click', (e) => {
                e.preventDefault();
                const modal = document.getElementById('AN-registration-modal');
                if (modal) {
                    const tabs = modal.querySelectorAll('.AN-registration-tab');
                    tabs.forEach(tab => {
                        if (tab.dataset.form === 'login') {
                            tab.click();
                        }
                    });
                }
            });
            
            // Initialize PWA if not already
            if ('serviceWorker' in navigator && !window.AN_PWA) {
                navigator.serviceWorker.register('/sw.js')
                    .then(() => console.log('Service Worker registered'))
                    .catch(err => console.error('Service Worker registration failed:', err));
            }
        });
    </script>
</body>
</html>